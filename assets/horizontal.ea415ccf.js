import{d as v,l as B,u as E,e as T,_ as x}from"./index.66dbeab3.js";import{K as P,aC as V,a as F,az as R,aD as N,aH as O,a1 as W,f as j,J as q,e as J,aJ as U,aa as Y,n as K,ah as l,m as p,p as L,Y as r,S as c,F as z,a7 as X,R as A,q as M,X as $,a9 as G,W as b,a0 as H}from"./vue.48bd3665.js";import{a as Q}from"./toolsValidate.09c34439.js";const Z=P({name:"navMenuHorizontal",components:{SubItem:V(()=>v(()=>import("./subItem.8d79fac8.js"),["./subItem.8d79fac8.js","./vue.48bd3665.js","./toolsValidate.09c34439.js","./index.66dbeab3.js","./index.52abd502.css"],import.meta.url))},props:{menuList:{type:Array,default:()=>[]}},setup(s){const u=F(),C=B(),S=E(),{routesList:y}=R(C),{themeConfig:d}=R(S),m=N(),f=O(),i=W({defaultActive:null}),h=j(()=>s.menuList),_=n=>{const t=n.wheelDelta||-n.deltaY*40;u.value.$refs.wrap$.scrollLeft=u.value.$refs.wrap$.scrollLeft+t/4},k=()=>{K(()=>{let n=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!n)return!1;u.value.$refs.wrap$.scrollLeft=n.offsetLeft})},e=n=>n.filter(t=>!t.meta.isHide).map(t=>(t=Object.assign({},t),t.children&&(t.children=e(t.children)),t)),g=n=>{const t=n.split("/");let o={};return e(y.value).map((a,I)=>{a.path===`/${t[1]}`&&(a.k=I,o.item=[{...a}],o.children=[{...a}],a.children&&(o.children=a.children))}),o},w=n=>{const{path:t,meta:o}=n;if(d.value.layout==="classic")i.defaultActive=`/${t.split("/")[1]}`;else{const a=o.isDynamic?o.isDynamicPath.split("/"):t.split("/");a.length>=4&&o.isHide?i.defaultActive=a.splice(0,3).join("/"):i.defaultActive=t}},D=n=>{const{origin:t,pathname:o}=window.location;f.push(n.path),Q(n.meta.isLink)?window.open(n.meta.isLink):window.open(`${t}${o}#${n.meta.isLink}`)};return q(()=>{w(m)}),J(()=>{k()}),U(n=>{w(n);let{layout:t,isClassicSplitMenu:o}=d.value;t==="classic"&&o&&T.emit("setSendClassicChildren",g(n.path))}),{elMenuHorizontalScrollRef:u,menuLists:h,onElMenuHorizontalScroll:_,onALinkClick:D,...Y(i)}}});const ee={class:"el-menu-horizontal-warp"};function te(s,u,C,S,y,d){const m=l("SvgIcon"),f=l("SubItem"),i=l("el-sub-menu"),h=l("el-menu-item"),_=l("el-menu"),k=l("el-scrollbar");return p(),L("div",ee,[r(k,{onWheel:H(s.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:c(()=>[r(_,{router:"","default-active":s.defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:c(()=>[(p(!0),L(z,null,X(s.menuLists,e=>(p(),L(z,null,[e.children&&e.children.length>0?(p(),A(i,{index:e.path,key:e.path},{title:c(()=>[r(m,{name:e.meta.icon},null,8,["name"]),M("span",null,$(s.$t(e.meta.title)),1)]),default:c(()=>[r(f,{chil:e.children},null,8,["chil"])]),_:2},1032,["index"])):(p(),A(h,{index:e.path,key:e.path},G({_:2},[!e.meta.isLink||e.meta.isLink&&e.meta.isIframe?{name:"title",fn:c(()=>[r(m,{name:e.meta.icon},null,8,["name"]),b(" "+$(s.$t(e.meta.title)),1)]),key:"0"}:{name:"title",fn:c(()=>[M("a",{class:"w100",onClick:H(g=>s.onALinkClick(e),["prevent"])},[r(m,{name:e.meta.icon},null,8,["name"]),b(" "+$(s.$t(e.meta.title)),1)],8,["onClick"])]),key:"1"}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}const ae=x(Z,[["render",te],["__scopeId","data-v-45c8d67c"]]);export{ae as default};
