import{K as _,a as f,a1 as x,f as w,e as h,G as v,aa as y,m as s,R as k,S as C,_ as S,ah as b,T as I,Z as g,p as c,q as r,F as E,a7 as L,Y as $,X as m,O as B,aE as F,aF as M}from"./vue.48bd3665.js";import{_ as R}from"./index.66dbeab3.js";const D=_({name:"pagesWorkflowContextmenu",props:{dropdown:{type:Object,default:()=>({x:"",y:""})}},emits:["current"],setup(e,{emit:d}){const i=f(),o=x({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"\u5220\u9664",icon:"ele-Delete"},{contextMenuClickId:1,txt:"\u7F16\u8F91",icon:"ele-Edit"}],item:{type:"node"},conn:{}}),p=w(()=>e.dropdown),l=n=>{d("current",Object.assign({},{contextMenuClickId:n},o.item),o.conn)},a=(n,u={})=>{o.item=n,o.conn=u,t(),setTimeout(()=>{o.isShow=!0},10)},t=()=>{o.isShow=!1};return h(()=>{document.body.addEventListener("click",t),document.body.addEventListener("contextmenu",t)}),v(()=>{document.body.removeEventListener("click",t),document.body.removeEventListener("contextmenu",t)}),{contextmenuRef:i,dropdowns:p,openContextmenu:a,closeContextmenu:t,onCurrentClick:l,...y(o)}}});const O=e=>(F("data-v-ca17fe59"),e=e(),M(),e),T={class:"el-dropdown-menu"},j=["onClick"],z=O(()=>r("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function N(e,d,i,o,p,l){const a=b("SvgIcon");return s(),k(S,{name:"el-zoom-in-center",ref:"contextmenuRef"},{default:C(()=>[I((s(),c("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:B(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[r("ul",T,[(s(!0),c(E,null,L(e.dropdownList,(t,n)=>(s(),c("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:n,onClick:u=>e.onCurrentClick(t.contextMenuClickId)},[$(a,{name:t.icon},null,8,["name"]),r("span",null,m(t.txt)+m(e.item.type==="line"?"\u7EBF":"\u8282\u70B9"),1)],8,j))),128))]),z],4)),[[g,e.isShow]])]),_:1},512)}const G=R(D,[["render",N],["__scopeId","data-v-ca17fe59"]]);export{G as default};
