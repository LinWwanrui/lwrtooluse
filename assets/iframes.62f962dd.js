import{K as p,a as h,aD as g,f as d,b as m,n as _,m as n,p as o,q as y,F as I,a7 as w,ak as k,T as c,Y as O,S as L,Z as R,as as b}from"./vue.48bd3665.js";import{_ as v}from"./index.66dbeab3.js";const P=p({name:"layoutIframeView",props:{refreshKey:{type:String,default:()=>""},name:{type:String,default:()=>"slide-right"},list:{type:Array,default:()=>[]}},setup(a){const r=h(),s=g(),l=d(()=>a.list.filter(t=>t.meta.isIframeOpen)),u=d(()=>s.path),f=(t,e)=>{_(()=>{if(!r.value)return!1;r.value.forEach(i=>{i.dataset.url===t&&(i.onload=()=>{e.meta.isIframeOpen&&e.meta.loading&&(e.meta.loading=!1)})})})};return m(()=>s.fullPath,t=>{const e=a.list.find(i=>i.path===t);if(!e)return!1;e.meta.isIframeOpen||(e.meta.isIframeOpen=!0),f(t,e)},{immediate:!0}),m(()=>a.refreshKey,()=>{const t=a.list.find(e=>e.path===s.path);if(!t)return!1;t.meta.isIframeOpen&&(t.meta.isIframeOpen=!1),setTimeout(()=>{t.meta.isIframeOpen=!0,t.meta.loading=!0,f(s.fullPath,t)})},{deep:!0}),{iframeRef:r,setIframeList:l,getRoutePath:u}}}),S={class:"layout-padding layout-padding-unset layout-iframe"},T={class:"layout-padding-auto layout-padding-view"},$=["src","data-url"];function B(a,r,s,l,u,f){const t=k("loading");return n(),o("div",S,[y("div",T,[(n(!0),o(I,null,w(a.setIframeList,e=>c((n(),o("div",{class:"w100",key:e.path,"element-loading-background":"white"},[O(b,{name:a.name,mode:"out-in"},{default:L(()=>[c((n(),o("iframe",{src:e.meta.isLink,key:e.path,frameborder:"0",height:"100%",width:"100%",style:{position:"absolute"},"data-url":e.path,ref_for:!0,ref:"iframeRef"},null,8,$)),[[R,a.getRoutePath===e.path]])]),_:2},1032,["name"])])),[[t,e.meta.loading]])),128))])])}const V=v(P,[["render",B]]);export{V as default};
