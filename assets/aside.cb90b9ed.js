import{d as S,l as M,u as B,b as W,z as $,e as u,_ as k}from"./index.66dbeab3.js";import{K as D,aC as F,a as z,az as y,a1 as I,f as w,b as A,J as N,aa as O,ah as c,T as P,Z as q,m as R,p as H,Y as C,S as T,R as j,V as x,M as J}from"./vue.48bd3665.js";const K=D({name:"layoutAside",components:{Logo:F(()=>S(()=>import("./index.f9ae7c37.js"),["./index.f9ae7c37.js","./vue.48bd3665.js","./index.66dbeab3.js","./index.52abd502.css","./logo-mini.7749359e.js","./index.10595cc5.css"],import.meta.url)),Vertical:F(()=>S(()=>import("./vertical.7ce95386.js"),["./vertical.7ce95386.js","./index.66dbeab3.js","./vue.48bd3665.js","./index.52abd502.css","./toolsValidate.09c34439.js"],import.meta.url))},setup(){const s=z(),i=M(),v=B(),L=W(),{routesList:_}=y(i),{themeConfig:n}=y(v),{isTagsViewCurrenFull:d}=y(L),o=I({menuList:[],clientWidth:0}),m=w(()=>{const{layout:e,isCollapse:t,menuBar:a}=n.value,l=["#FFFFFF","#FFF","#fff","#ffffff"].includes(a)?"layout-el-aside-br-color":"";if(o.clientWidth<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const E=document.querySelector(".layout-container"),h=document.createElement("div");return h.setAttribute("class","layout-aside-mobile-mode"),E.appendChild(h),h.addEventListener("click",r),[l,"layout-aside-mobile","layout-aside-mobile-open"]}else return r(),[l,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"?t?[l,"layout-aside-pc-1"]:[l,"layout-aside-pc-220"]:t?[l,"layout-aside-pc-64"]:[l,"layout-aside-pc-220"]}),r=()=>{const e=document.querySelector(".layout-aside-mobile-mode");e==null||e.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var a;(a=e==null?void 0:e.parentNode)==null||a.removeChild(e)},300),document.body.clientWidth<1e3&&(n.value.isCollapse=!1),document.body.setAttribute("class","")},f=w(()=>{let{layout:e,isShowLogo:t}=n.value;return t&&e==="defaults"||t&&e==="columns"}),p=()=>{if(n.value.layout==="columns")return!1;o.menuList=b(_.value)},b=e=>e.filter(t=>!t.meta.isHide).map(t=>(t=Object.assign({},t),t.children&&(t.children=b(t.children)),t)),g=e=>{o.clientWidth=e},V=e=>{let{layout:t}=n.value;if(t!=="columns")return!1;e||u.emit("restoreDefault"),i.setColumnsMenuHover(e)};return A(n.value,e=>{e.isShowLogoChange!==e.isShowLogo&&s.value&&s.value.update()}),A($.state,e=>{let{layout:t,isClassicSplitMenu:a}=e.themeConfig.themeConfig;if(t==="classic"&&a)return!1;p()},{deep:!0}),N(()=>{g(document.body.clientWidth),p(),u.on("setSendColumnsChildren",e=>{o.menuList=e.children}),u.on("setSendClassicChildren",e=>{let{layout:t,isClassicSplitMenu:a}=n.value;t==="classic"&&a&&(o.menuList=[],o.menuList=e.children)}),u.on("getBreadcrumbIndexSetFilterRoutes",()=>{p()}),u.on("layoutMobileResize",e=>{g(e.clientWidth),r()})}),{layoutAsideScrollbarRef:s,setCollapseStyle:m,setShowLogo:f,isTagsViewCurrenFull:d,onAsideEnterLeave:V,...O(o)}}}),Y={class:"h100"};function Z(s,i,v,L,_,n){const d=c("Logo"),o=c("Vertical"),m=c("el-scrollbar"),r=c("el-aside");return P((R(),H("div",Y,[C(r,{class:J(["layout-aside",s.setCollapseStyle])},{default:T(()=>[s.setShowLogo?(R(),j(d,{key:0})):x("",!0),C(m,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:i[0]||(i[0]=f=>s.onAsideEnterLeave(!0)),onMouseleave:i[1]||(i[1]=f=>s.onAsideEnterLeave(!1))},{default:T(()=>[C(o,{menuList:s.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[q,!s.isTagsViewCurrenFull]])}const X=k(K,[["render",Z]]);export{X as default};
