import{d as M,a as P,n as R,u as q,L as w,E as A,e as U,m as V,S as H,o as j,_ as K}from"./index.66dbeab3.js";import{K as W,aC as O,aH as X,az as L,a as Y,a1 as G,f as J,e as Q,aa as Z,ah as i,m as x,p as ee,Y as n,S as s,W as c,X as b,q as u,M as N,O as ne}from"./vue.48bd3665.js";const T=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=(()=>{if(typeof document>"u")return!1;const e=T[0],o={};for(const t of T)if((t==null?void 0:t[1])in document){for(const[f,p]of t.entries())o[e[f]]=p;return o}return!1})(),D={change:d.fullscreenchange,error:d.fullscreenerror};let r={request(e=document.documentElement,o){return new Promise((t,m)=>{const f=()=>{r.off("change",f),t()};r.on("change",f);const p=e[d.requestFullscreen](o);p instanceof Promise&&p.then(f).catch(m)})},exit(){return new Promise((e,o)=>{if(!r.isFullscreen){e();return}const t=()=>{r.off("change",t),e()};r.on("change",t);const m=document[d.exitFullscreen]();m instanceof Promise&&m.then(t).catch(o)})},toggle(e,o){return r.isFullscreen?r.exit():r.request(e,o)},onchange(e){r.on("change",e)},onerror(e){r.on("error",e)},on(e,o){const t=D[e];t&&document.addEventListener(t,o,!1)},off(e,o){const t=D[e];t&&document.removeEventListener(t,o,!1)},raw:d};Object.defineProperties(r,{isFullscreen:{get:()=>Boolean(document[d.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return(e=document[d.fullscreenElement])!=null?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[d.fullscreenEnabled])}});d||(r={isEnabled:!1});const E=r,oe=W({name:"layoutBreadcrumbUser",components:{UserNews:O(()=>M(()=>import("./userNews.334d5ffe.js"),["./userNews.334d5ffe.js","./vue.48bd3665.js","./index.66dbeab3.js","./index.52abd502.css","./userNews.e64178ef.css"],import.meta.url)),Search:O(()=>M(()=>import("./search.fba0d38d.js"),["./search.fba0d38d.js","./vue.48bd3665.js","./index.66dbeab3.js","./index.52abd502.css","./search.f1a4b5ef.css"],import.meta.url))},setup(){const{locale:e,t:o}=P(),t=X(),m=R(),f=q(),{userInfos:p}=L(m),{themeConfig:a}=L(f),h=Y(),g=G({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),k=J(()=>{let l="";const{layout:C,isClassicSplitMenu:v}=a.value;return["defaults","columns"].includes(C)||C==="classic"&&!v?l="1":l="",l}),S=()=>{if(!E.isEnabled)return A.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;E.toggle(),E.on("change",()=>{E.isFullscreen?g.isScreenfull=!0:g.isScreenfull=!1})},F=()=>{U.emit("openSetingsDrawer")},z=l=>{l==="logOut"?V({closeOnClickModal:!1,closeOnPressEscape:!1,title:o("message.user.logOutTitle"),message:o("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:o("message.user.logOutConfirm"),cancelButtonText:o("message.user.logOutCancel"),buttonSize:"default",beforeClose:(C,v,B)=>{C==="confirm"?(v.confirmButtonLoading=!0,v.confirmButtonText=o("message.user.logOutExit"),setTimeout(()=>{B(),setTimeout(()=>{v.confirmButtonLoading=!1},300)},700)):B()}}).then(async()=>{H.clear(),window.location.reload()}).catch(()=>{}):l==="wareHouse"?window.open("https://gitee.com/lyt-top/vue-next-admin"):t.push(l)},y=()=>{h.value.openSearch()},I=l=>{w.remove("themeConfig"),a.value.globalComponentSize=l,w.set("themeConfig",a.value),_("globalComponentSize","disabledSize"),window.location.reload()},$=l=>{w.remove("themeConfig"),a.value.globalI18n=l,w.set("themeConfig",a.value),e.value=l,j.useTitle(),_("globalI18n","disabledI18n")},_=(l,C)=>{g[C]=w.get("themeConfig")[l]};return Q(()=>{w.get("themeConfig")&&(_("globalComponentSize","disabledSize"),_("globalI18n","disabledI18n"))}),{userInfos:p,onLayoutSetingClick:F,onHandleCommandClick:z,onScreenfullClick:S,onSearchClick:y,onComponentSizeChange:I,onLanguageChange:$,searchRef:h,layoutUserFlexNum:k,...Z(g)}}});const se={class:"layout-navbars-breadcrumb-user-icon"},le=["title"],te={class:"layout-navbars-breadcrumb-user-icon"},ae=["title"],re=["title"],ue={class:"layout-navbars-breadcrumb-user-icon"},ie=["title"],ce={class:"layout-navbars-breadcrumb-user-link"},de=["src"];function me(e,o,t,m,f,p){const a=i("el-dropdown-item"),h=i("el-dropdown-menu"),g=i("el-dropdown"),k=i("ele-Search"),S=i("el-icon"),F=i("ele-Bell"),z=i("el-badge"),y=i("UserNews"),I=i("el-popover"),$=i("ele-ArrowDown"),_=i("Search");return x(),ee("div",{class:"layout-navbars-breadcrumb-user pr15",style:ne({flex:e.layoutUserFlexNum})},[n(g,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:e.onComponentSizeChange},{dropdown:s(()=>[n(h,null,{default:s(()=>[n(a,{command:"large",disabled:e.disabledSize==="large"},{default:s(()=>[c(b(e.$t("message.user.dropdownLarge")),1)]),_:1},8,["disabled"]),n(a,{command:"default",disabled:e.disabledSize==="default"},{default:s(()=>[c(b(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),n(a,{command:"small",disabled:e.disabledSize==="small"},{default:s(()=>[c(b(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"])]),_:1})]),default:s(()=>[u("div",se,[u("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,le)])]),_:1},8,["onCommand"]),n(g,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:e.onLanguageChange},{dropdown:s(()=>[n(h,null,{default:s(()=>[n(a,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:s(()=>[c("\u7B80\u4F53\u4E2D\u6587")]),_:1},8,["disabled"]),n(a,{command:"en",disabled:e.disabledI18n==="en"},{default:s(()=>[c("English")]),_:1},8,["disabled"]),n(a,{command:"zh-tw",disabled:e.disabledI18n==="zh-tw"},{default:s(()=>[c("\u7E41\u9AD4\u4E2D\u6587")]),_:1},8,["disabled"])]),_:1})]),default:s(()=>[u("div",te,[u("i",{class:N(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,ae)])]),_:1},8,["onCommand"]),u("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:o[0]||(o[0]=(...l)=>e.onSearchClick&&e.onSearchClick(...l))},[n(S,{title:e.$t("message.user.title2")},{default:s(()=>[n(k)]),_:1},8,["title"])]),u("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:o[1]||(o[1]=(...l)=>e.onLayoutSetingClick&&e.onLayoutSetingClick(...l))},[u("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,re)]),u("div",ue,[n(I,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:s(()=>[n(z,{"is-dot":!0},{default:s(()=>[n(S,{title:e.$t("message.user.title4")},{default:s(()=>[n(F)]),_:1},8,["title"])]),_:1})]),default:s(()=>[n(y)]),_:1})]),u("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:o[2]||(o[2]=(...l)=>e.onScreenfullClick&&e.onScreenfullClick(...l))},[u("i",{class:N(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,ie)]),n(g,{"show-timeout":70,"hide-timeout":50,onCommand:e.onHandleCommandClick},{dropdown:s(()=>[n(h,null,{default:s(()=>[n(a,{command:"/home"},{default:s(()=>[c(b(e.$t("message.user.dropdown1")),1)]),_:1}),n(a,{command:"/personal"},{default:s(()=>[c(b(e.$t("message.user.dropdown2")),1)]),_:1}),n(a,{command:"/404"},{default:s(()=>[c(b(e.$t("message.user.dropdown3")),1)]),_:1}),n(a,{divided:"",command:"logOut"},{default:s(()=>[c(b(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:s(()=>[u("span",ce,[u("img",{src:e.userInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,de),c(" "+b(e.userInfos.userName===""?"common":e.userInfos.userName)+" ",1),n(S,{class:"el-icon--right"},{default:s(()=>[n($)]),_:1})])]),_:1},8,["onCommand"]),n(_,{ref:"searchRef"},null,512)],4)}const be=K(oe,[["render",me],["__scopeId","data-v-71e4c787"]]);export{be as default};
