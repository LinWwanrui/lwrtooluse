import{K as I,az as L,aD as V,aH as N,a1 as T,f as $,e as F,aJ as R,aa as E,ah as f,m as r,p as u,Y as _,S as g,as as z,F as D,a7 as M,R as C,V as S,X as v,a0 as x,W as G}from"./vue.48bd3665.js";import{l as H,u as J,o as K,L as B,_ as U}from"./index.20f86bbc.js";const W=I({name:"layoutBreadcrumb",setup(){const t=H(),y=J(),{themeConfig:n}=L(y),{routesList:c}=L(t),i=V(),l=N(),e=T({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),m=$(()=>{h(i.path);const{layout:s,isBreadcrumb:o}=n.value;return s==="classic"||s==="transverse"?!1:!!o}),d=s=>{const{redirect:o,path:k}=s;o?l.push(o):l.push(k)},a=()=>{n.value.isCollapse=!n.value.isCollapse,b()},b=()=>{B.remove("themeConfig"),B.set("themeConfig",n.value)},p=s=>{s.forEach(o=>{e.routeSplit.forEach((k,P,w)=>{e.routeSplitFirst===o.path&&(e.routeSplitFirst+=`/${w[e.routeSplitIndex]}`,e.breadcrumbList.push(o),e.routeSplitIndex++,o.children&&p(o.children))})})},h=s=>{if(!n.value.isBreadcrumb)return!1;e.breadcrumbList=[c.value[0]],e.routeSplit=s.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,p(c.value),(i.name==="home"||i.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=K.setTagsViewNameI18n(i))};return F(()=>{h(i.path)}),R(s=>{h(s.path)}),{onThemeConfigChange:a,isShowBreadcrumb:m,themeConfig:n,onBreadcrumbClick:d,...E(e)}}});const X={key:0,class:"layout-navbars-breadcrumb"},Y={key:0,class:"layout-navbars-breadcrumb-span"},j={key:1},q={key:2},A=["onClick"];function O(t,y,n,c,i,l){const e=f("SvgIcon"),m=f("el-breadcrumb-item"),d=f("el-breadcrumb");return t.isShowBreadcrumb?(r(),u("div",X,[_(e,{class:"layout-navbars-breadcrumb-icon",name:t.themeConfig.isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:t.onThemeConfigChange},null,8,["name","onClick"]),_(d,{class:"layout-navbars-breadcrumb-hide"},{default:g(()=>[_(z,{name:"breadcrumb"},{default:g(()=>[(r(!0),u(D,null,M(t.breadcrumbList,(a,b)=>(r(),C(m,{key:a.meta.tagsViewName?a.meta.tagsViewName:a.meta.title},{default:g(()=>[b===t.breadcrumbList.length-1?(r(),u("span",Y,[t.themeConfig.isBreadcrumbIcon?(r(),C(e,{key:0,name:a.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):S("",!0),a.meta.tagsViewName?(r(),u("div",q,v(a.meta.tagsViewName),1)):(r(),u("div",j,v(t.$t(a.meta.title)),1))])):(r(),u("a",{key:1,onClick:x(p=>t.onBreadcrumbClick(a),["prevent"])},[t.themeConfig.isBreadcrumbIcon?(r(),C(e,{key:0,name:a.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):S("",!0),G(v(t.$t(a.meta.title)),1)],8,A))]),_:2},1024))),128))]),_:1})]),_:1})])):S("",!0)}const ee=U(W,[["render",O],["__scopeId","data-v-56658511"]]);export{ee as default};
