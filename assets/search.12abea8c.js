import{K as S,az as g,a as V,aH as L,a1 as v,aa as y,n as C,ah as l,m as R,p as T,Y as c,S as u,q as $,W as k,X as H}from"./vue.48bd3665.js";import{b as I,a as B,_ as Q}from"./index.20f86bbc.js";const x=S({name:"layoutBreadcrumbSearch",setup(){const o=I(),{tagsViewRoutes:n}=g(o),d=V(),{t:w}=B(),m=L(),t=v({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),p=()=>{t.menuQuery="",t.isShowSearch=!0,_(),C(()=>{setTimeout(()=>{d.value.focus()})})},r=()=>{t.isShowSearch=!1},f=(e,a)=>{let i=e?t.tagsViewList.filter(h(e)):t.tagsViewList;a(i)},h=e=>a=>a.path.toLowerCase().indexOf(e.toLowerCase())>-1||a.meta.title.toLowerCase().indexOf(e.toLowerCase())>-1||w(a.meta.title).indexOf(e.toLowerCase())>-1,_=()=>{if(t.tagsViewList.length>0)return!1;n.value.map(e=>{e.meta.isHide||t.tagsViewList.push({...e})})};return{layoutMenuAutocompleteRef:d,openSearch:p,closeSearch:r,menuSearch:f,onHandleSelect:e=>{let{path:a,redirect:i}=e;e.meta.isLink&&!e.meta.isIframe?window.open(e.meta.isLink):i?m.push(i):m.push(a),r()},...y(t)}}});const N={class:"layout-search-dialog"};function O(o,n,d,w,m,t){const p=l("ele-Search"),r=l("el-icon"),f=l("SvgIcon"),h=l("el-autocomplete"),_=l("el-dialog");return R(),T("div",N,[c(_,{modelValue:o.isShowSearch,"onUpdate:modelValue":n[1]||(n[1]=s=>o.isShowSearch=s),"destroy-on-close":"","show-close":!1},{footer:u(()=>[c(h,{modelValue:o.menuQuery,"onUpdate:modelValue":n[0]||(n[0]=s=>o.menuQuery=s),"fetch-suggestions":o.menuSearch,placeholder:o.$t("message.user.searchPlaceholder"),ref:"layoutMenuAutocompleteRef",onSelect:o.onHandleSelect,"fit-input-width":!0},{prefix:u(()=>[c(r,{class:"el-input__icon"},{default:u(()=>[c(p)]),_:1})]),default:u(({item:s})=>[$("div",null,[c(f,{name:s.meta.icon,class:"mr5"},null,8,["name"]),k(" "+H(o.$t(s.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect"])]),_:1},8,["modelValue"])])}const M=Q(x,[["render",O],["__scopeId","data-v-e5f1d32a"]]);export{M as default};
