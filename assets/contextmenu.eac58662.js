import{K as f,a1 as x,f as w,e as _,G as C,b as h,aa as g,ah as k,m as s,R as y,S as v,T as L,Z as S,p as a,q as i,F as u,a7 as V,Y as I,X as $,V as b,O as m,_ as M}from"./vue.48bd3665.js";import{_ as E}from"./index.20f86bbc.js";const B=f({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},setup(e,{emit:l}){const n=x({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),r=w(()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown),c=t=>{l("currentContextmenuClick",Object.assign({},{contextMenuClickId:t},n.item))},d=t=>{n.item=t,t.meta.isAffix?n.dropdownList[1].affix=!0:n.dropdownList[1].affix=!1,o(),setTimeout(()=>{n.isShow=!0},10)},o=()=>{n.isShow=!1};return _(()=>{document.body.addEventListener("click",o)}),C(()=>{document.body.removeEventListener("click",o)}),h(()=>e.dropdown,({x:t})=>{t+117>document.documentElement.clientWidth?n.arrowLeft=117-(document.documentElement.clientWidth-t):n.arrowLeft=10},{deep:!0}),{dropdowns:r,openContextmenu:d,closeContextmenu:o,onCurrentContextmenuClick:c,...g(n)}}});const O={class:"el-dropdown-menu"},R=["onClick"];function T(e,l,n,r,c,d){const o=k("SvgIcon");return s(),y(M,{name:"el-zoom-in-center"},{default:v(()=>[L((s(),a("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:m(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[i("ul",O,[(s(!0),a(u,null,V(e.dropdownList,(t,p)=>(s(),a(u,null,[t.affix?b("",!0):(s(),a("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:p,onClick:W=>e.onCurrentContextmenuClick(t.contextMenuClickId)},[I(o,{name:t.icon},null,8,["name"]),i("span",null,$(e.$t(t.txt)),1)],8,R))],64))),256))]),i("div",{class:"el-popper__arrow",style:m({left:`${e.arrowLeft}px`})},null,4)],4)),[[S,e.isShow]])]),_:1})}const N=E(B,[["render",T],["__scopeId","data-v-e5498309"]]);export{N as default};
